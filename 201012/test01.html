<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<title>api2.0_changemap</title>

<!-- API key를 포함하여 브이월드 API URL을 지정하여 호출끝  -->
<script type="text/javascript" src="http://map.vworld.kr/js/vworldMapInit.js.do?version=2.0&apiKey=17C36BC1-84E4-3B88-B3C5-A3FFE14CD23F&domain=localhost:8080&[WMS Param]"></script>
</head>

<body>
 <div id="vmap" style="width:100%;height:700px;left:0px;top:0px"></div>
 <button type="button" onclick="javascript:setThemeLayer1('도시지역','LT_C_UQ111');" >도시지역</button>
 <button type="button" onclick="javascript:setThemeLayer2('관리지역','LT_C_UQ112');">관리지역</button>
 <button type="button" onclick="javascript:setVisible(false);" >주제도Hidden</button>
 <button type="button" onclick="javascript:setVisible(true);" >주제도Show</button>

 <script type="text/javascript">
  var vmap;

    //브이월드 맵 생성

  vw.ol3.MapOptions = {
      basemapType: vw.ol3.BasemapType.GRAPHIC
    , controlDensity: vw.ol3.DensityType.EMPTY
    , interactionDensity: vw.ol3.DensityType.BASIC
    , controlsAutoArrange: true
    , homePosition: vw.ol3.CameraPosition
    , initPosition: vw.ol3.CameraPosition
   }; 
     
  vmap = new vw.ol3.Map("vmap",  vw.ol3.MapOptions); 

     function setMode(basemapType) {
      vmap.setBasemapType(basemapType);         
     };
     
     function setVisible(chk) {
      if ( chk ) {
       vmap.showHiddenThemeLayers();
      } else {
       vmap.hideAllThemeLayers();
      }
     }
     
     //레이어 생성

     var themeLayer1;
     function setThemeLayer1(name, layerName) {
      if ( themeLayer1 == null ) {
       themeLayer1 = vmap.addNamedLayer(name, layerName); 
       vmap.addLayer(themeLayer1);
   } else {
    if(themeLayer1.getVisible()){
     themeLayer1.setVisible(false);
    } else {
     themeLayer1.setVisible(true);
    }
   }
     }    
     
     var themeLayer2;
     function setThemeLayer2(name, layerName) {
      if ( themeLayer2 == null ) {
       themeLayer2 = vmap.addNamedLayer(name, layerName); 
       vmap.addLayer(themeLayer2);
   } else {
    if(themeLayer2.getVisible()){
     themeLayer2.setVisible(false);
    } else {
     themeLayer2.setVisible(true);
    }
   }
     }    
     
     
 </script>
</body>
</html>